<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Timothy Tieku Electrical ‚Äî Maintenance Booking</title>
<link rel="icon" href="favicon.ico" type="image/x-icon">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --accent-1: #ffd700;
  --accent-2: #ff8a00;
  --accent-3: #ff3d00;
  --accent-4: #00d4ff;
  --accent-5: #ff00ff;
  --glass-bg: rgba(255,255,255,0.18);
  --glass-border: rgba(255,255,255,0.3);
  --muted: rgba(255,255,255,0.85);
  --max-width: 900px;
}
*{box-sizing:border-box;}
html,body{height:100%;margin:0;font-family:"Poppins",sans-serif;color:#fff;}
body{
  display:flex;
  justify-content:center;
  align-items:center;
  background: url('images/electrician1.jpg') center/cover no-repeat;
  overflow-x:hidden;
}

@keyframes fadeIn{
  from{opacity:0; transform:translateY(20px);}
  to{opacity:1; transform:translateY(0);}
}

/* Main floating card */
.wrap{
  width:95%;
  max-width:var(--max-width);
  padding:40px;
  border-radius:25px;
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(18px) saturate(180%);
  box-shadow: 0 20px 50px rgba(0,0,0,0.7);
  display:flex;
  flex-direction:column;
  gap:30px;
  animation: fadeIn 1.2s ease forwards;
}

/* Header */
h1{
  margin:0;
  font-size:2.2rem;
  background: linear-gradient(90deg,var(--accent-1),var(--accent-4));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
.subtitle{font-size:1.1rem;color:var(--muted);}

/* Form fields */
label{
  font-size:1rem;
  font-weight:600;
  color: var(--accent-4);
  display:block;
  margin-bottom:6px;
}
input, select, textarea{
  width:100%;
  padding:14px 16px;
  border-radius:15px;
  border:2px solid rgba(255,255,255,0.3);
  font-size:1rem;
  outline:none;
  background: rgba(255,255,255,0.95);
  color: #111;
  transition: all 0.4s ease;
  background-clip: padding-box;
}
input:focus, select:focus, textarea:focus{
  border:2px solid var(--accent-5);
  box-shadow: 0 0 20px rgba(255,0,255,0.4);
}
textarea{min-height:120px; resize:vertical;}

/* Actions */
.actions{
  display:flex;
  gap:15px;
  flex-wrap:wrap;
  align-items:center;
}
.btn{
  padding:14px 20px;
  border-radius:15px;
  font-weight:700;
  cursor:pointer;
  border:none;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.btn-primary{
  background: linear-gradient(135deg,var(--accent-1),var(--accent-2));
  color:#000;
  box-shadow: 0 8px 25px rgba(255,138,0,0.5);
}
.btn-primary:hover{
  transform: translateY(-3px);
  box-shadow: 0 15px 40px rgba(255,138,0,0.7);
}
.btn-ghost{
  background: linear-gradient(135deg,var(--accent-3),var(--accent-4));
  color:#fff;
  border:1px solid rgba(255,255,255,0.3);
}
.btn-ghost:hover{
  transform: translateY(-3px);
  box-shadow: 0 12px 35px rgba(0,212,255,0.5);
}
.whatsapp{
  background:#25D366;
  color:#fff;
  text-decoration:none;
  padding:14px 20px;
  border-radius:15px;
  font-weight:700;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.whatsapp:hover{transform:translateY(-3px); box-shadow:0 10px 25px rgba(37,211,102,0.5);}

/* Status & info */
#statusMsg{font-weight:700;height:28px;margin-top:10px;text-align:center; font-size:1rem;}
.info{font-size:1rem;color:var(--muted);}
.info strong{color:#fff;}
</style>
</head>
<body>

<main class="wrap">
  <div>
    <h1>Timothy Tieku Electrical</h1>
    <div class="subtitle">Fast ‚Ä¢ Trusted ‚Ä¢ Professional electrical maintenance</div>
  </div>

  <form id="maintForm">
    <div>
      <label for="user_name">Full Name</label>
      <input id="user_name" type="text" name="user_name" placeholder="John Doe" required>
    </div>
    <div>
      <label for="user_phone">Phone Number</label>
      <input id="user_phone" type="tel" name="user_phone" placeholder="+233 54 389 9210" required>
    </div>
    <div>
      <label for="maintenance_type">Type of Maintenance</label>
      <select id="maintenance_type" name="maintenance_type" required>
        <option value="">‚Äî Choose service ‚Äî</option>
        <option>Wiring fault / repair</option>
        <option>Rewiring / new connection</option>
        <option>Lighting / fan installation</option>
        <option>Socket outlet installation</option>
        <option>Fuse box / circuit breaker</option>
        <option>Generator / inverter</option>
        <option>Appliance connection</option>
        <option>Solar PV / battery system</option>
        <option>Other</option>
      </select>
    </div>
    <div>
      <label for="user_email">Email Address</label>
      <input id="user_email" type="email" name="user_email" placeholder="you@example.com" required>
    </div>
    <div>
      <label for="audience_level">Priority</label>
      <select id="audience_level" name="audience_level" required>
        <option value="">‚Äî Priority ‚Äî</option>
        <option>Low (Flexible)</option>
        <option>Medium (2‚Äì3 Days)</option>
        <option>High (Urgent)</option>
      </select>
    </div>
    <div>
      <label for="preferred_datetime">Preferred Date & Time</label>
      <input id="preferred_datetime" type="datetime-local" name="preferred_datetime">
    </div>
    <div>
      <label for="message">Describe the Problem</label>
      <textarea id="message" name="message" placeholder="Describe your issue..."></textarea>
    </div>

    <div class="actions">
      <button type="submit" class="btn btn-primary">Send Request</button>
      <a class="whatsapp" id="quickWhatsApp" href="#" target="_blank">üí¨ Quick WhatsApp</a>
    </div>

    <div id="statusMsg"></div>
  </form>

  <div class="info">
    <p><strong>Contact:</strong> Timothy Tieku ‚Äî <a href="tel:+233543899210" style="color:#fff;">+233 54 389 9210</a></p>
    <p><strong>Service Area:</strong> Accra & surrounding areas</p>
  </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
<script>
emailjs.init("g5ulqlDwp0QDcjdat"); // <-- Replace

const form = document.getElementById('maintForm');
const statusMsg = document.getElementById('statusMsg');
const quickWA = document.getElementById('quickWhatsApp');

function updateWhatsApp(){
  const name = document.getElementById('user_name').value.trim() || "[name]";
  const phone = document.getElementById('user_phone').value.trim() || "[phone]";
  const type = document.getElementById('maintenance_type').value || "electrical assistance";
  quickWA.href = "https://api.whatsapp.com/send?phone=233543899210&text=" + encodeURIComponent(
    Hello Engineer Timothy Tieku, my name is ${name} and I need ${type}. Phone: ${phone}.
  );
}

['input','change'].forEach(evt=>{
  form.addEventListener(evt, updateWhatsApp);
});
updateWhatsApp();

form.addEventListener('submit', function(e){
  e.preventDefault();
  const name = document.getElementById('user_name').value.trim();
  const phone = document.getElementById('user_phone').value.trim();
  const type = document.getElementById('maintenance_type').value;
  const email = document.getElementById('user_email').value.trim();
  const priority = document.getElementById('audience_level').value;
  const datetime = document.getElementById('preferred_datetime').value || "Not specified";
  const message = document.getElementById('message').value.trim() || "No description provided";

  if(!name || !phone || !type || !email || !priority){
    alert("Please fill all required fields.");
    return;
  }

  statusMsg.style.color = "#ffd700";
  statusMsg.textContent = "Sending request...";

  const templateParams = {user_name:name,user_phone:phone,maintenance_type:type,user_email:email,audience_level:priority,preferred_datetime:datetime,message:message};

  emailjs.send("service_972cf37","template_vd62hbr",templateParams) // <-- Replace
    .then(() => {
      statusMsg.style.color = "#00ff90";
      statusMsg.textContent = "‚úÖ Request sent successfully!";
      form.reset();
      updateWhatsApp();
    })
    .catch((err) => {
      console.error(err);
      statusMsg.style.color = "#ff3d00";
      statusMsg.textContent = "‚ùå Failed to send request. Check EmailJS setup.";
    });
});
</script>
</body>
</html>
